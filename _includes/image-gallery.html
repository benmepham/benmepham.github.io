<!-- Source: https://jekyllcodex.org/without-plugin/image-gallery -->
<style>
    .image-gallery {
        overflow: auto;
        margin-left: -1% !important;
    }
    .image-gallery a {
        float: left;
        display: block;
        margin: 0 0 1% 1%;
        width: 24%;
        text-align: center;
        text-decoration: none !important;
    }
    .image-gallery a span {
        display: block;
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        padding: 3px 0;
        font-size: 12px;
    }
    .image-gallery a img {
        width: 100%;
        display: block;
        aspect-ratio: 3 / 2;
        object-fit: cover;
    }
</style>

<div class="image-gallery">
    {% for file in site.static_files %} {% if file.path contains include.folder
    %} {% if file.extname == '.jpg' or file.extname == '.jpeg' or file.extname
    == '.JPG' or file.extname == '.JPEG' %} {% assign filenameparts = file.path
    | split: "/" %} {% assign filename = filenameparts | last | replace:
    file.extname,"" %}

    <a href="{{ file.path }}" title="{{ filename }}">
        <img src="{{ file.path}}" alt="{{ filename }}" />
        {% if include.caption %}
        <span>{{ filename }}</span>
        {% endif %}
    </a>
    {% endif %} {% endif %} {% endfor %}
</div>
